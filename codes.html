<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Secret</title>
    <link rel="stylesheet" href="styles/style_a.css">
</head>
<body>

    <h1 class="important" align=center>Hello!</h1>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="codes.html">SuperCodes</a></li>
            <li><a href="updates.html">What's New?</a></li>
        </ul>
    </nav>
    <hr>
    <input type="text" id="codebox" placeholder="Code goes here!">
    <footer align="center" style="width: fit-content;">v0.0.2.4</footer>
    <button onclick="verify()">Submit Code</button>
    <script>
        fetch("./version.json")
        .then(response => response.json())
        .then(data => {
          document.getElementById('version-number').textContent = `Version: ${data.version}`;
        })
        .catch(err => console.log('Error loading version:', err));
        const super_codes = [
            "1999",
            "Yandere",
            "92217"
        ];
        function verify() {
            const textBox = document.getElementById("codebox");
            const sup_cod = textBox.value
            if (super_codes.includes(sup_cod)) {
                activateCode(sup_cod)
            }
            else {
                alert(sup_cod + " is not a valid SuperCode!");
            }
        }
        function activateCode(super_code) {
            if (super_code == "1999") {
                const baldi_doc = "docs/1999.txt"

                const a = document.createElement("a");

                a.href = baldi_doc;

                a.download = "1999.txt";

                document.body.appendChild(a);

                a.click();

                document.body.removeChild(a);

            }
            if (super_code == "Yandere") {
                const baldi_doc = "docs/Cryptic_Y.txt"

                const a = document.createElement("a");

                a.href = baldi_doc;

                a.download = "CRYPTIC_Y.txt";

                document.body.appendChild(a);

                a.click();

                document.body.removeChild(a);

            }
            else {
                alert("No functionality exists for this code.")
            }
        }
    </script>
</body>

</html>